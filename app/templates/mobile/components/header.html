<!-- Mobile Header Component -->
<header class="bg-white shadow-sm px-4 py-3 flex items-center justify-between relative">
    <!-- Left side - Logo and title -->
    <div class="flex items-center space-x-3">
        <div class="w-8 h-8 gradient-primary rounded-lg flex items-center justify-center">
            <i data-feather="zap" class="w-5 h-5 text-white"></i>
        </div>
        <h1 class="mobile-subtitle font-extrabold text-gray-900">
            <span id="header-title">MyBillingApp</span>
        </h1>
    </div>

    <!-- Right side - User status and actions -->
    <div class="flex items-center space-x-3">
        {% if is_authenticated %}
            <!-- User info -->
            <div class="flex items-center space-x-2">
                <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center relative">
                    <i data-feather="user" class="w-4 h-4 text-green-600"></i>
                    <div class="absolute -top-1 -right-1 w-3 h-3 status-online rounded-full"></div>
                </div>
                <span class="text-sm font-medium text-gray-700 hidden sm:block">{{ current_user.username }}</span>
            </div>
            
            <!-- Menu button -->
            <button onclick="MobileApp.toggleUserMenu()" class="w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center touch-feedback">
                <i data-feather="more-vertical" class="w-4 h-4 text-gray-600"></i>
            </button>
        {% else %}
            <!-- Login button -->
            <button onclick="MobileApp.showLoginModal()" class="touch-feedback px-4 py-2 gradient-primary text-white mobile-small rounded-xl font-medium">
                <i data-feather="log-in" class="w-4 h-4 inline mr-1"></i>
                Login
            </button>
        {% endif %}
    </div>

    <!-- User menu dropdown (authenticated users) -->
    {% if is_authenticated %}
    <div id="user-menu" class="absolute top-full right-4 mt-2 w-48 glass rounded-2xl shadow-xl hidden z-50 slide-down">
        <div class="p-2">
            <div class="px-3 py-2 border-b border-gray-100">
                <p class="mobile-text font-medium text-gray-900">{{ current_user.username }}</p>
                <p class="mobile-small text-gray-500 capitalize">{{ current_user.role }}</p>
            </div>
            
            <button onclick="MobileApp.goToDashboard()" class="w-full text-left px-3 py-2 mobile-text text-gray-700 hover:bg-gray-50 rounded-lg touch-feedback flex items-center space-x-2 mt-2">
                <i data-feather="grid" class="w-4 h-4"></i>
                <span>Dashboard</span>
            </button>
            
            <button onclick="MobileApp.goToProfile()" class="w-full text-left px-3 py-2 mobile-text text-gray-700 hover:bg-gray-50 rounded-lg touch-feedback flex items-center space-x-2">
                <i data-feather="settings" class="w-4 h-4"></i>
                <span>Settings</span>
            </button>
            
            <hr class="my-2 border-gray-100">
            
            <button onclick="MobileApp.logout()" class="w-full text-left px-3 py-2 mobile-text text-red-600 hover:bg-red-50 rounded-lg touch-feedback flex items-center space-x-2">
                <i data-feather="log-out" class="w-4 h-4"></i>
                <span>Logout</span>
            </button>
        </div>
    </div>
    {% endif %}
</header>